# 空间关系计算

> org.locationtech.jts.operation.relate

空间关系的计算遵循以下步骤：

* 使用输入的两个图形建立拓扑图。每一个图形已经预先计算了自己自相交的节点并且加入了图中。
* 计算图中的边和节点的所有相交节点。
* 通过合并输入图中的标注来计算计算过的节点的标注。
* 计算图中独立的部分的标注。
* 通过节点和边的标注计算相交矩阵。

## 标注独立的部分

独立的部分是指输入图形的与其他图形没有任何相交的边或节点。输入的这些部分中的拓扑关系为了来完成整个部分的标注必须计算。这可以通过检查这部分是否是在其他图形的内部或外部来完成。如果其他图形是1维的，这个独立的部分一定在外部（如果不是这样的话它一点与图形的一个边相交）。如果其他图形是2维的，可以用点在多边形中的检查来判断独立的部分是在内部还是外部。

## 空间关系计算器

> org.locationtech.jts.operation.relate.RelateComputer

空间关系计算器不去要建立完整的图结构来计算相交矩阵，两个图形间的关系能够通过简单的检测每个节点构成的边的标注来计算。

